/* Cursor fixes for ChatGPT UI overrides */
button[data-testid="close-sidebar-button"] {
  cursor: pointer !important;
}

button[data-testid="close-sidebar-button"] > * {
  cursor: inherit !important;
}

pre, code,
div[data-testid="code"] pre,
div[data-testid="code"] code {
  -webkit-user-select: text !important;
  user-select: text !important;
  white-space: pre !important;
  word-break: normal !important;
  cursor: text !important;
}
[data-testid="code"] *::before,
[data-testid="code"] *::after {
  pointer-events: none !important;  /* overlays must not block selection */
}
[data-testid="code"] button {
  pointer-events: auto !important;  /* keep copy buttons clickable */
}
html, body, main, article, section {
  -webkit-user-select: text !important;
  user-select: text !important;
}

/* Hide "Add from Google Drive" menu option within the composer */
.\_\_menu-item:has(svg path[d^="M3.51105 18.4269"]) {
  display: none !important;
}

/* Hide dictate/voice buttons in the composer footer */
button.composer-btn:has(svg path[d^="M15.7806 10.1963"]),
[data-testid="composer-speech-button"],
[data-testid="composer-speech-button-container"] {
  display: none !important;
}

/* Keep send button visible in both enabled/disabled states without flicker */
div:has(> button[data-testid="send-button"]) {
  display: flex !important; /* prevent parent collapse when button is hidden by upstream CSS */
  visibility: visible !important;
}

button[data-testid="send-button"] {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  transition: none !important;
}

button[data-testid="send-button"][aria-disabled="true"],
button[data-testid="send-button"][disabled],
button[data-testid="send-button"][data-state~="disabled"] {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 0.35 !important;
  pointer-events: none !important;
}

/* Some builds set data-state="hidden" or similar; force visibility to avoid disappearance */
button[data-testid="send-button"][data-state*="hidden"] {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 0.35 !important;
  pointer-events: none !important;
}

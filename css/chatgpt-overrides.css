/* Cursor fixes for ChatGPT UI overrides */
button[data-testid="close-sidebar-button"] {
  cursor: pointer !important;
}

button[data-testid="close-sidebar-button"] > * {
  cursor: inherit !important;
}

pre, code,
div[data-testid="code"] pre,
div[data-testid="code"] code {
  -webkit-user-select: text !important;
  user-select: text !important;
  white-space: pre !important;
  word-break: normal !important;
  cursor: text !important;
}
[data-testid="code"] *::before,
[data-testid="code"] *::after {
  pointer-events: none !important;  /* overlays must not block selection */
}
[data-testid="code"] button {
  pointer-events: auto !important;  /* keep copy buttons clickable */
}
html, body, main, article, section {
  -webkit-user-select: text !important;
  user-select: text !important;
}

/* Hide the ChatGPT mic access error popup without affecting other UI elements */
[aria-label="Enable mic access to dictate"],
[role="dialog"][aria-label*="mic access" i],
[role="dialog"][aria-label*="microphone" i],
[data-testid="mic-permission-modal"],
[data-testid="mic-permissions-banner"],
[data-testid="mic-permissions-toast"] {
  display: none !important;
}

/* Also hide every known mic / voice toggle in the composer */
button:is(
    [data-testid="dictation-toggle"],
    [data-testid="composer-dictation-toggle"],
    [data-testid="composer-voice-toggle"],
    [data-testid="voice-mode-toggle"],
    [data-testid="voice-input-toggle"],
    [data-testid="voice-toggle-button"],
    [aria-label="Enable dictation"],
    [aria-label*="voice input" i],
    [aria-label*="voice message" i],
    [aria-label*="voice conversation" i],
    [aria-label*="enable mic" i],
    [aria-label*="mic access" i],
    [aria-label*="dictation" i]
) {
  display: none !important;
}

/* Remove the "Use voice mode" CTA buttons that appear outside the composer */
:is(button, a)[
    data-testid*="voice-mode" i
  ],
:is(button, a)[
    aria-label*="voice mode" i
  ] {
  display: none !important;
}

/* Hide Google Drive upload entry points */
[aria-label="Add from Google Drive"],
[aria-label*="Google Drive"],
[aria-label*="Google drive" i],
[data-testid="drive-upload"],
[data-testid="drive-upload-option"],
[data-testid="attachment-google-drive"],
[role="menuitem"][data-testid*="drive" i],
button[aria-label*="Drive" i][data-testid*="upload" i] {
  display: none !important;
}
